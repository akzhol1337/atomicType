<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <script src="/webjars/jquery/jquery.min.js"></script>

    <title th:text="${username}"></title>


    <script th:inline="javascript">
        function edit(){

        }

        function follow(){
            $.post("http://localhost:8080/api/follow?username=" + [[${username}]]);
        }
    </script>
</head>
<body>
    <p th:text="${username}"></p>
    <p th:text="${numberOfRaces}"></p>
    <p th:text="${bestRace}"></p>
    <p th:text="${averageWpmLast10}"></p>
    <p th:text="${averageWpmFull}"></p>
    <p th:text="${carPhoto}"></p>
    <p th:text="${country}"></p>
    <p th:text="${speedRank}"></p>
    <p th:text="${experienceRank}"></p>

    <div th:if="${myAccount}">
        <button onclick="edit()">EDIT</button>
    </div>
    <div th:unless="${myAccount}">
        <button onclick="follow()">FOLLOW</button>
    </div>
    <br>
    <p th:text="${loggedUsername}"> Current user </p>

    <span>followers:</span>
    <ul th:each="follower : ${followers}">
        <li th:text="${follower.username}"></li>
    </ul>

    <br>
    <span>following:</span>
    <ul th:each="following : ${followings}">
        <li th:text="${following.username}"></li>
    </ul>
    <br>
    <span>leagues:</span>
    <ul th:each="league : ${leagues}">
        <li th:text="${league}"></li>
    </ul>
    <br>

    <th:block th:switch="${accountType}">
        <div th:case="'3'">
            <div class="admin">ADMIN</div>
        </div>
        <div th:case="'2'">
            <div class="premium">PREMIUM</div>
        </div>
        <div th:case="'1'">
            <div class="user">USER</div>
        </div>
    </th:block>

</body>
</html>